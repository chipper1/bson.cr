## Benchmarking

### Machine

MBPR (Mid 2012) 2.6 Ghz i7, 8 GB RAM @ 1600Mhz

### Details

- Each operations listed below has been ran `1_000_000` times. The time showed is for the total time to do the operation that many times.

### Results

#### Crystal

```
$ crystal run --release perf/bench.cr
                                 user     system      total        real
Document#to_bson -------->   18.270000   15.500000   33.770000 (  20.435104)
Binary#to_bson ---------->   0.520000   0.440000   0.960000 (  0.593810)
Code#to_bson ------------>   0.360000   0.330000   0.690000 (  0.415314)
Bool(false)#to_bson ----->   0.320000   0.330000   0.650000 (  0.374898)
Float64#to_bson --------->   0.310000   0.330000   0.640000 (  0.375193)
Int32#to_bson ----------->   0.260000   0.250000   0.510000 (  0.322527)
Int64#to_bson ----------->   0.270000   0.270000   0.540000 (  0.326955)
MaxKey#to_bson ---------->   0.210000   0.240000   0.450000 (  0.264147)
MinKey#to_bson ---------->   0.210000   0.250000   0.460000 (  0.265869)
ObjectId#to_bson -------->   0.810000   0.690000   1.500000 (  0.920128)
ObjectId#to_s ----------->   0.120000   0.100000   0.220000 (  0.140763)
Regex#to_bson ----------->   0.250000   0.270000   0.520000 (  0.291758)
String#to_bson ---------->   0.350000   0.280000   0.630000 (  0.393935)
Symbol#to_bson ---------->   0.330000   0.280000   0.610000 (  0.379542)
Time#to_bson ------------>   0.350000   0.280000   0.630000 (  0.402273)
Bool(true)#to_bson ------>   0.310000   0.340000   0.650000 (  0.369853)
Bool(true)#from_bson ---->   0.000000   0.000000   0.000000 (  0.001180)
Int32#from_bson --------->   0.060000   0.040000   0.100000 (  0.064714)
Int64#from_bson --------->   0.050000   0.030000   0.080000 (  0.067811)
Float64#from_bson ------->   0.050000   0.040000   0.090000 (  0.063461)
Binary#from_bson -------->   0.180000   0.150000   0.330000 (  0.217077)
Code#from_bson ---------->   1.010000   0.570000   1.580000 (  1.111970)
Bool(false)#from_bson --->   0.000000   0.000000   0.000000 (  0.001136)
MaxKey#from_bson -------->   0.000000   0.000000   0.000000 (  0.000340)
MinKey#from_bson -------->   0.000000   0.000000   0.000000 (  0.000313)
ObjectId#from_bson ------>   0.110000   0.110000   0.220000 (  0.127690)
Regex#from_bson --------->   1.790000   0.870000   2.660000 (  2.048193)
String#from_bson -------->   0.780000   0.420000   1.200000 (  0.860156)
Symbol#from_bson -------->   0.840000   0.510000   1.350000 (  0.915798)
Time#from_bson ---------->   0.050000   0.040000   0.090000 (  0.067000)
Document#from_bson ------>   19.040000   14.180000   33.220000 (  20.874564)
```

### Ruby

```
       user     system      total        real
Document#to_bson ------> 58.030000   0.160000  58.190000 ( 58.253448)
Binary#to_bson -------->  3.510000   0.030000   3.540000 (  3.550840)
Code#to_bson ---------->  3.390000   0.020000   3.410000 (  3.419597)
FalseClass#to_bson ---->  0.440000   0.000000   0.440000 (  0.435642)
Float#to_bson --------->  0.910000   0.010000   0.920000 (  0.917996)
Integer#to_bson ------->  0.960000   0.000000   0.960000 (  0.977626)
MaxKey#to_bson -------->  0.480000   0.010000   0.490000 (  0.492867)
MinKey#to_bson -------->  0.510000   0.000000   0.510000 (  0.526171)
ObjectId#to_bson ------>  4.290000   0.020000   4.310000 (  4.308158)
ObjectId#to_s --------->  1.260000   0.000000   1.260000 (  1.262614)
Regexp#to_bson -------->  3.180000   0.000000   3.180000 (  3.185472)
String#to_bson -------->  2.490000   0.010000   2.500000 (  2.500683)
Symbol#to_bson -------->  2.500000   0.000000   2.500000 (  2.507912)
Time#to_bson ---------->  2.260000   0.010000   2.270000 (  2.270781)
TrueClass#to_bson ----->  0.380000   0.000000   0.380000 (  0.377612)
Boolean#from_bson ----->  0.670000   0.000000   0.670000 (  0.678354)
Int32#from_bson ------->  0.960000   0.000000   0.960000 (  0.962805)
Int64#from_bson ------->  0.940000   0.000000   0.940000 (  0.947427)
Float#from_bson ------->  0.910000   0.000000   0.910000 (  0.917393)
Binary#from_bson ------>  2.370000   0.010000   2.380000 (  2.381443)
Code#from_bson -------->  2.220000   0.010000   2.230000 (  2.228576)
Boolean#from_bson ----->  0.650000   0.000000   0.650000 (  0.652393)
MaxKey#from_bson ------>  0.580000   0.000000   0.580000 (  0.577559)
MinKey#from_bson ------>  0.600000   0.000000   0.600000 (  0.601599)
ObjectId#from_bson ---->  0.830000   0.000000   0.830000 (  0.836214)
Regexp#from_bson ------>  1.500000   0.000000   1.500000 (  1.503280)
String#from_bson ------>  1.670000   0.000000   1.670000 (  1.671834)
Symbol#from_bson ------>  1.890000   0.000000   1.890000 (  1.894950)
Time#from_bson -------->  4.470000   0.010000   4.480000 (  4.473194)
Document#from_bson ----> 44.410000   0.130000  44.540000 ( 44.636925)
```