## Benchmarking

### Machine

MBPR (Mid 2012) 2.6 Ghz i7, 8 GB RAM @ 1600Mhz

### Differences

- I used a more complex document for all the Document benchmarks
- Float64 and Int64 are using their MAX values

### Results

#### Crystal

```
$ crystal perf/bench.cr

                                 user     system      total        real
Document#to_bson ------>     33.480000   0.550000   34.030000 (  34.110876)
Binary#to_bson -------->     0.480000   0.000000   0.480000 (  0.486930)
Code#to_bson ---------->     0.400000   0.010000   0.410000 (  0.413076)
FalseClass#to_bson ---->     0.100000   0.000000   0.100000 (  0.104081)
Float64#to_bson --------->   0.040000   0.000000   0.040000 (  0.042486)
Int32#to_bson ------->       0.250000   0.010000   0.260000 (  0.262243)
Int64#to_bson ------->       0.290000   0.000000   0.290000 (  0.297053)
MaxKey#to_bson -------->     0.010000   0.000000   0.010000 (  0.003224)
MinKey#to_bson -------->     0.000000   0.000000   0.000000 (  0.003480)
ObjectId#to_bson ------>     2.410000   0.010000   2.420000 (  2.418768)
ObjectId#to_s --------->     0.300000   0.000000   0.300000 (  0.307962)
Regexp#to_bson -------->     0.250000   0.010000   0.260000 (  0.253772)
String#to_bson -------->     0.360000   0.000000   0.360000 (  0.367231)
Symbol#to_bson -------->     0.390000   0.010000   0.400000 (  0.398566)
Time#to_bson ---------->     0.350000   0.000000   0.350000 (  0.356328)
TrueClass#to_bson ----->     0.110000   0.000000   0.110000 (  0.106195)
Boolean#from_bson ----->     0.010000   0.000000   0.010000 (  0.015349)
Int32#from_bson ------->     0.100000   0.000000   0.100000 (  0.098382)
Int64#from_bson ------->     0.140000   0.000000   0.140000 (  0.139228)
Float64#from_bson ------->   0.130000   0.000000   0.130000 (  0.138234)
Binary#from_bson ------>     0.270000   0.000000   0.270000 (  0.271974)
Code#from_bson -------->     2.010000   0.000000   2.010000 (  2.009309)
Bool#from_bson ----->        0.010000   0.000000   0.010000 (  0.015560)
MaxKey#from_bson ------>     0.010000   0.000000   0.010000 (  0.004501)
MinKey#from_bson ------>     0.000000   0.000000   0.000000 (  0.004604)
ObjectId#from_bson ---->     0.120000   0.000000   0.120000 (  0.116975)
Regex#from_bson ------>      1.730000   0.010000   1.740000 (  1.742064)
String#from_bson ------>     1.330000   0.000000   1.330000 (  1.332403)
Symbol#from_bson ------>     1.400000   0.000000   1.400000 (  1.407154)
Time#from_bson -------->     0.160000   0.000000   0.160000 (  0.159687)
Document#from_bson ---->     31.650000   0.130000   31.780000 (  31.806168)
```

### Ruby

```
       user     system      total        real
Document#to_bson ------> 58.030000   0.160000  58.190000 ( 58.253448)
Binary#to_bson -------->  3.510000   0.030000   3.540000 (  3.550840)
Code#to_bson ---------->  3.390000   0.020000   3.410000 (  3.419597)
FalseClass#to_bson ---->  0.440000   0.000000   0.440000 (  0.435642)
Float#to_bson --------->  0.910000   0.010000   0.920000 (  0.917996)
Integer#to_bson ------->  0.960000   0.000000   0.960000 (  0.977626)
MaxKey#to_bson -------->  0.480000   0.010000   0.490000 (  0.492867)
MinKey#to_bson -------->  0.510000   0.000000   0.510000 (  0.526171)
ObjectId#to_bson ------>  4.290000   0.020000   4.310000 (  4.308158)
ObjectId#to_s --------->  1.260000   0.000000   1.260000 (  1.262614)
Regexp#to_bson -------->  3.180000   0.000000   3.180000 (  3.185472)
String#to_bson -------->  2.490000   0.010000   2.500000 (  2.500683)
Symbol#to_bson -------->  2.500000   0.000000   2.500000 (  2.507912)
Time#to_bson ---------->  2.260000   0.010000   2.270000 (  2.270781)
TrueClass#to_bson ----->  0.380000   0.000000   0.380000 (  0.377612)
Boolean#from_bson ----->  0.670000   0.000000   0.670000 (  0.678354)
Int32#from_bson ------->  0.960000   0.000000   0.960000 (  0.962805)
Int64#from_bson ------->  0.940000   0.000000   0.940000 (  0.947427)
Float#from_bson ------->  0.910000   0.000000   0.910000 (  0.917393)
Binary#from_bson ------>  2.370000   0.010000   2.380000 (  2.381443)
Code#from_bson -------->  2.220000   0.010000   2.230000 (  2.228576)
Boolean#from_bson ----->  0.650000   0.000000   0.650000 (  0.652393)
MaxKey#from_bson ------>  0.580000   0.000000   0.580000 (  0.577559)
MinKey#from_bson ------>  0.600000   0.000000   0.600000 (  0.601599)
ObjectId#from_bson ---->  0.830000   0.000000   0.830000 (  0.836214)
Regexp#from_bson ------>  1.500000   0.000000   1.500000 (  1.503280)
String#from_bson ------>  1.670000   0.000000   1.670000 (  1.671834)
Symbol#from_bson ------>  1.890000   0.000000   1.890000 (  1.894950)
Time#from_bson -------->  4.470000   0.010000   4.480000 (  4.473194)
Document#from_bson ----> 44.410000   0.130000  44.540000 ( 44.636925)
```