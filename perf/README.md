## Benchmarking

### Machine

MBPR (Mid 2012) 2.6 Ghz i7, 8 GB RAM @ 1600Mhz

### Details

- Each operations listed below has been ran `1_000_000` times. The time showed is for the total time to do the operation that many times.

### Results

#### Crystal

```
$ crystal run --release perf/bench.cr
                                 user     system      total        real
Document#to_bson ------>     12.320000   0.350000   12.670000 (  12.629437)
Binary#to_bson -------->     0.180000   0.010000   0.190000 (  0.187931)
Code#to_bson ---------->     0.190000   0.010000   0.200000 (  0.202607)
FalseClass#to_bson ---->     0.150000   0.080000   0.230000 (  0.300772)
Float64#to_bson --------->   0.010000   0.010000   0.020000 (  0.011427)
Int32#to_bson ------->       0.100000   0.000000   0.100000 (  0.107330)
Int64#to_bson ------->       0.100000   0.010000   0.110000 (  0.104429)
MaxKey#to_bson -------->     0.000000   0.000000   0.000000 (  0.000000)
MinKey#to_bson -------->     0.000000   0.000000   0.000000 (  0.000001)
ObjectId#to_bson ------>     1.090000   0.020000   1.110000 (  1.107459)
ObjectId#to_s --------->     0.080000   0.000000   0.080000 (  0.081508)
Regexp#to_bson -------->     0.090000   0.000000   0.090000 (  0.098423)
String#to_bson -------->     0.140000   0.010000   0.150000 (  0.150231)
Symbol#to_bson -------->     0.170000   0.000000   0.170000 (  0.174335)
Time#to_bson ---------->     0.150000   0.010000   0.160000 (  0.152085)
TrueClass#to_bson ----->     0.050000   0.000000   0.050000 (  0.053342)
Boolean#from_bson ----->     0.000000   0.000000   0.000000 (  0.001868)
Int32#from_bson ------->     0.030000   0.000000   0.030000 (  0.032541)
Int64#from_bson ------->     0.030000   0.000000   0.030000 (  0.031748)
Float64#from_bson ------->   0.020000   0.000000   0.020000 (  0.025412)
Binary#from_bson ------>     0.120000   0.000000   0.120000 (  0.122640)
Code#from_bson -------->     0.660000   0.000000   0.660000 (  0.663032)
Bool#from_bson ----->        0.000000   0.000000   0.000000 (  0.001540)
MaxKey#from_bson ------>     0.000000   0.000000   0.000000 (  0.000311)
MinKey#from_bson ------>     0.000000   0.000000   0.000000 (  0.000313)
ObjectId#from_bson ---->     0.070000   0.000000   0.070000 (  0.067612)
Regex#from_bson ------>      1.310000   0.000000   1.310000 (  1.316736)
String#from_bson ------>     0.510000   0.000000   0.510000 (  0.511380)
Symbol#from_bson ------>     0.540000   0.010000   0.550000 (  0.540654)
Time#from_bson -------->     0.020000   0.000000   0.020000 (  0.022752)
Document#from_bson ---->     9.940000   0.020000   9.960000 (  9.956141)
```

### Ruby

```
       user     system      total        real
Document#to_bson ------> 58.030000   0.160000  58.190000 ( 58.253448)
Binary#to_bson -------->  3.510000   0.030000   3.540000 (  3.550840)
Code#to_bson ---------->  3.390000   0.020000   3.410000 (  3.419597)
FalseClass#to_bson ---->  0.440000   0.000000   0.440000 (  0.435642)
Float#to_bson --------->  0.910000   0.010000   0.920000 (  0.917996)
Integer#to_bson ------->  0.960000   0.000000   0.960000 (  0.977626)
MaxKey#to_bson -------->  0.480000   0.010000   0.490000 (  0.492867)
MinKey#to_bson -------->  0.510000   0.000000   0.510000 (  0.526171)
ObjectId#to_bson ------>  4.290000   0.020000   4.310000 (  4.308158)
ObjectId#to_s --------->  1.260000   0.000000   1.260000 (  1.262614)
Regexp#to_bson -------->  3.180000   0.000000   3.180000 (  3.185472)
String#to_bson -------->  2.490000   0.010000   2.500000 (  2.500683)
Symbol#to_bson -------->  2.500000   0.000000   2.500000 (  2.507912)
Time#to_bson ---------->  2.260000   0.010000   2.270000 (  2.270781)
TrueClass#to_bson ----->  0.380000   0.000000   0.380000 (  0.377612)
Boolean#from_bson ----->  0.670000   0.000000   0.670000 (  0.678354)
Int32#from_bson ------->  0.960000   0.000000   0.960000 (  0.962805)
Int64#from_bson ------->  0.940000   0.000000   0.940000 (  0.947427)
Float#from_bson ------->  0.910000   0.000000   0.910000 (  0.917393)
Binary#from_bson ------>  2.370000   0.010000   2.380000 (  2.381443)
Code#from_bson -------->  2.220000   0.010000   2.230000 (  2.228576)
Boolean#from_bson ----->  0.650000   0.000000   0.650000 (  0.652393)
MaxKey#from_bson ------>  0.580000   0.000000   0.580000 (  0.577559)
MinKey#from_bson ------>  0.600000   0.000000   0.600000 (  0.601599)
ObjectId#from_bson ---->  0.830000   0.000000   0.830000 (  0.836214)
Regexp#from_bson ------>  1.500000   0.000000   1.500000 (  1.503280)
String#from_bson ------>  1.670000   0.000000   1.670000 (  1.671834)
Symbol#from_bson ------>  1.890000   0.000000   1.890000 (  1.894950)
Time#from_bson -------->  4.470000   0.010000   4.480000 (  4.473194)
Document#from_bson ----> 44.410000   0.130000  44.540000 ( 44.636925)
```